It turns out that passing map to function is like pass by reference.
Any map write operation done inside a function will still exist even the function is terminated 